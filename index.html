<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="description" content="QRBrand Ltd - Professional software and app development services. Contact us for custom business solutions across Qatar, Lebanon, France, and Iraq.">
  <meta name="keywords" content="software development, app development, business solutions, QRBrand, custom software">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#111111">
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="QRBrand Ltd - Software & App Development">
  <meta property="og:description" content="Professional software and app development services for your business needs.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://qrbrand.net">
  
  <title>QRBrand Ltd - Software & App Development Services</title>
  
  <!-- Preload critical resources -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://images.unsplash.com" crossorigin>
  <link rel="preconnect" href="https://flagcdn.com" crossorigin>
  
  <!-- Load fonts with font-display: swap for better performance -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  
  <style>
    :root {
      /* Color system */
      --primary-text: #ffffff;
      --secondary-text: rgba(255, 255, 255, 0.85);
      --tertiary-text: rgba(255, 255, 255, 0.65);
      --accent-orange: #ff6b35;
      --accent-blue: #4a9eff;
      --accent-success: #00d4aa;
      
      /* Background system */
      --bg-primary: #0a0a0a;
      --bg-overlay: linear-gradient(180deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 30%, rgba(0,0,0,0.2) 60%, rgba(0,0,0,0.05) 100%);
      --bg-glass: rgba(0, 0, 0, 0.4);
      --bg-glass-light: rgba(255, 255, 255, 0.95);
      --bg-card: rgba(0, 0, 0, 0.8);
      --bg-transparent: rgba(0, 0, 0, 0.1);
      
      /* Spacing system */
      --spacing-xs: 4px;
      --spacing-sm: 8px;
      --spacing-md: 16px;
      --spacing-lg: 24px;
      --spacing-xl: 32px;
      --spacing-2xl: 48px;
      --spacing-3xl: 64px;
      
      /* Typography system */
      --font-size-xs: 12px;
      --font-size-sm: 14px;
      --font-size-base: 16px;
      --font-size-lg: 18px;
      --font-size-xl: 24px;
      --font-size-2xl: 32px;
      --font-size-3xl: 48px;
      --font-size-4xl: 64px;
      
      /* Border radius */
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      --radius-full: 9999px;
      
      /* Shadows */
      --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.15);
      --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.2);
      --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.25);
      --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.3);
      
      /* Transitions */
      --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-base: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-slow: 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Reset and base styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      font-size: 16px;
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 400;
      line-height: 1.6;
      color: var(--primary-text);
      background: var(--bg-primary);
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Skip link for accessibility */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 6px;
      background: var(--bg-card);
      color: var(--primary-text);
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--radius-sm);
      text-decoration: none;
      font-size: var(--font-size-sm);
      z-index: 1000;
      transition: top var(--transition-fast);
    }

    .skip-link:focus {
      top: 6px;
    }

    /* Background and overlay system */
    .background-container {
      position: fixed;
      inset: 0;
      z-index: -2;
      background: var(--bg-primary);
    }

    .background-image {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      opacity: 0;
      transition: opacity 0.4s ease-in-out;
      filter: brightness(1.1) contrast(1.05) saturate(1.1);
    }

    .background-image.loaded {
      opacity: 1;
    }

    .background-overlay {
      position: fixed;
      inset: 0;
      z-index: -1;
      background: var(--bg-overlay);
      backdrop-filter: blur(0.5px);
    }

    /* Layout containers */
    .main-container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
      z-index: 1;
    }

    /* Statistics section - hidden completely on mobile */
    .stats-section {
      display: flex;
      align-items: flex-start;
      justify-content: flex-start;
      gap: var(--spacing-3xl);
      padding: var(--spacing-2xl) var(--spacing-3xl) 0;
      flex-wrap: wrap;
      transition: transform 0.3s ease-out, opacity 0.3s ease-out;
    }

    @media (max-width: 768px) {
      .stats-section {
        display: none !important;
      }
    }

    .stat-card {
      min-width: 160px;
      display: flex;
      flex-direction: column;
      gap: var(--spacing-xs);
    }

    .stat-number {
      font-weight: 600;
      line-height: 1;
      letter-spacing: -0.02em;
      text-shadow: 0 2px 16px rgba(0, 0, 0, 0.6);
      font-feature-settings: 'tnum' 1;
    }

    .stat-number.visitors {
      font-size: 40px;
      color: var(--accent-orange);
    }

    .stat-number.date {
      font-size: 40px;
      color: var(--accent-blue);
      white-space: nowrap;
    }

    .stat-number.visits {
      font-size: 40px;
      color: var(--accent-success);
    }

    .stat-label {
      font-size: var(--font-size-sm);
      color: var(--secondary-text);
      font-weight: 400;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    /* Main content section */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: var(--spacing-lg);
      text-align: center;
      max-width: 900px;
      margin: 0 auto;
    }

    .main-title {
      font-size: var(--font-size-4xl);
      font-weight: 500;
      line-height: 1.1;
      letter-spacing: -0.02em;
      margin-bottom: var(--spacing-lg);
      text-shadow: 0 4px 24px rgba(0, 0, 0, 0.6);
      transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
      position: relative;
      transform-origin: center center;
    }

    .main-title.pushed {
      transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    /* Mobile responsive subtitle with motion */
    .subtitle {
      display: inline-block;
      background: var(--bg-card);
      color: var(--primary-text);
      padding: var(--spacing-md) var(--spacing-xl);
      border-radius: var(--radius-lg);
      font-size: var(--font-size-base);
      margin-bottom: var(--spacing-xl);
      box-shadow: var(--shadow-md);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      max-width: min(760px, 86vw);
      line-height: 1.5;
      transition: transform 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      will-change: transform;
    }

    @media (max-width: 768px) {
      .subtitle {
        transform-origin: center center;
      }
    }

    /* Motivational quotes section - Mobile touch interaction */
    .motivational-container {
      width: 100%;
      max-width: 760px;
      margin-bottom: var(--spacing-lg);
      cursor: pointer;
      position: relative;
    }

    .motivational-quote {
      display: inline-block;
      background: var(--bg-card);
      color: var(--primary-text);
      padding: var(--spacing-md) var(--spacing-xl);
      border-radius: var(--radius-lg);
      font-size: var(--font-size-base);
      box-shadow: var(--shadow-md);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      max-width: min(760px, 86vw);
      line-height: 1.5;
      text-align: center;
      transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
      opacity: 1;
      transform: translateY(0) scale(1);
      position: relative;
      z-index: 2;
    }

    @media (max-width: 768px) {
      .motivational-quote {
        opacity: 0;
        transform: translateY(20px) scale(0.9);
        pointer-events: none;
      }

      .motivational-quote.visible {
        opacity: 1;
        transform: translateY(0) scale(1);
        pointer-events: auto;
      }
    }

    .motivational-quote.changing {
      opacity: 0;
      transform: translateY(-10px) scale(0.95);
    }

    /* Company address - smaller on mobile */
    .company-address {
      display: inline-block;
      max-width: min(760px, 86vw);
      background: var(--bg-transparent);
      color: var(--primary-text);
      padding: var(--spacing-md) var(--spacing-xl);
      border-radius: var(--radius-lg);
      margin-bottom: var(--spacing-xl);
      font-size: var(--font-size-base);
      line-height: 1.6;
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      opacity: 1;
      transform: translateY(0);
      transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }

    @media (max-width: 768px) {
      .company-address {
        opacity: 0;
        transform: translateY(20px);
      }

      .company-address.visible {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Contact information - enhanced mobile interactions */
    .contact-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: var(--spacing-sm);
      width: 100%;
      max-width: 720px;
      margin-top: var(--spacing-xl);
      opacity: 1;
      transform: translateY(0);
      transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }

    @media (max-width: 768px) {
      .contact-grid {
        opacity: 0;
        transform: translateY(30px);
      }

      .contact-grid.visible {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .contact-item {
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.6);
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--radius-sm);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      font-size: var(--font-size-xs);
      color: var(--primary-text);
      transition: all var(--transition-fast);
      min-height: 38px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
      position: relative;
      overflow: hidden;
      width: fit-content;
      margin: 0 auto;
    }

    .contact-item::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(45deg, rgba(255, 255, 255, 0.1), transparent);
      opacity: 0;
      transition: opacity var(--transition-fast);
    }

    .contact-item:hover {
      background: rgba(255, 255, 255, 0.2);
      color: var(--primary-text);
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
      border-color: rgba(255, 255, 255, 0.3);
    }

    .contact-item:hover::before {
      opacity: 1;
    }

    .flag-icon {
      width: 16px;
      height: 12px;
      margin-right: var(--spacing-xs);
      border-radius: 2px;
      object-fit: cover;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    }

    /* Footer */
    .footer {
      position: fixed;
      left: var(--spacing-3xl);
      bottom: var(--spacing-lg);
      z-index: 5;
      background: var(--bg-glass);
      color: var(--tertiary-text);
      font-size: var(--font-size-xs);
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--radius-sm);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    /* Physics Ultra-Realistic Black Bowling Ball - Enhanced for Mobile */
    .physics-moon {
      position: fixed;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: 
        radial-gradient(ellipse at 25% 15%, #3a3a3a 0%, transparent 25%),
        radial-gradient(ellipse at 30% 20%, #1a1a1a 0%, transparent 35%),
        radial-gradient(ellipse at 70% 80%, #000000 0%, transparent 45%),
        linear-gradient(145deg, #0f0f0f 0%, #1a1a1a 20%, #050505 40%, #000000 60%, #000000 100%);
      z-index: 50;
      pointer-events: none;
      display: none;
      transition: all 0.06s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      will-change: transform;
      filter: contrast(1.3) brightness(0.8);
    }

    .physics-moon::before {
      content: '';
      position: absolute;
      top: 8px;
      left: 12px;
      width: 12px;
      height: 12px;
      background: 
        radial-gradient(ellipse at 40% 30%, rgba(80, 80, 80, 0.3) 0%, rgba(40, 40, 40, 0.15) 50%, transparent 80%);
      border-radius: 50%;
      filter: blur(1px);
      transform: rotate(-10deg);
    }

    .physics-moon::after {
      content: '';
      position: absolute;
      top: 20px;
      left: 18px;
      width: 3px;
      height: 3px;
      background: #000000;
      border-radius: 50%;
      box-shadow: 
        0 8px 0 #000000,
        0 16px 0 #000000;
    }

    .physics-moon.bouncing {
      transform: scale(1.2);
      filter: contrast(1.4) brightness(0.9);
    }

    /* Black Hole for bowling ball - Mobile Only - Positioned higher */
    .black-hole {
      position: absolute;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: 
        radial-gradient(circle at center, #000000 0%, #0a0a0a 20%, #1a1a1a 40%, #2a2a2a 70%, transparent 100%);
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) translateY(60px);
      z-index: 1;
      opacity: 1;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      display: none;
      box-shadow: 
        inset 0 0 20px rgba(0, 0, 0, 0.8),
        0 0 30px rgba(0, 0, 0, 0.5);
    }

    .black-hole.hidden {
      opacity: 0;
      transform: translate(-50%, -50%) translateY(60px) scale(0.5);
    }

    @media (max-width: 768px) {
      .black-hole {
        display: block;
      }
    }

    @media (max-width: 768px) {
      .physics-moon {
        display: block;
      }
    }

    /* Responsive design - محسن للموبايل */
    @media (max-width: 768px) {
      :root {
        --font-size-3xl: 36px;
        --font-size-4xl: 42px;
      }

      .main-content {
        padding: var(--spacing-md);
      }

      .main-title {
        font-size: var(--font-size-3xl);
        margin-bottom: var(--spacing-md);
      }

      .subtitle {
        font-size: var(--font-size-sm);
        padding: var(--spacing-md) var(--spacing-lg);
        max-width: 94vw;
      }

      .company-address {
        font-size: 11px;
        max-width: 94vw;
        padding: var(--spacing-sm) var(--spacing-md);
        line-height: 1.4;
      }

      .motivational-quote {
        font-size: var(--font-size-sm);
        padding: var(--spacing-md) var(--spacing-lg);
        max-width: 94vw;
      }

      /* Enhanced touch interactions for contact information */
      .contact-grid {
        flex-direction: column;
        align-items: center;
        gap: var(--spacing-xs);
        max-width: 92vw;
      }

      .contact-item {
        font-size: 11px;
        padding: var(--spacing-sm) var(--spacing-md);
        min-height: 34px;
        text-align: center;
        background: rgba(0, 0, 0, 0.85);
        border: 1px solid rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(20px);
        transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        transform: scale(0.95);
      }

      .contact-item:hover,
      .contact-item:active {
        background: rgba(0, 0, 0, 0.95);
        transform: scale(1.02);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
      }

      .contact-item:last-child {
        grid-column: 1;
      }

      .flag-icon {
        width: 14px;
        height: 10px;
        margin-right: var(--spacing-xs);
      }

      .footer {
        position: fixed;
        right: var(--spacing-md);
        left: auto;
        bottom: calc(var(--spacing-sm) + env(safe-area-inset-bottom, 0px));
        font-size: 11px;
        padding: var(--spacing-xs) var(--spacing-sm);
      }
    }

    @media (max-width: 480px) {
      .main-title {
        font-size: var(--font-size-2xl);
      }

      .search-input-container {
        padding: var(--spacing-md);
      }

      .contact-item {
        padding: var(--spacing-sm);
        min-height: 32px;
        font-size: 10px;
        background: rgba(0, 0, 0, 0.75);
        border: 1px solid rgba(255, 255, 255, 0.3);
      }
    }

    /* High contrast mode support */
    @media (prefers-contrast: high) {
      :root {
        --bg-glass: rgba(0, 0, 0, 0.9);
        --bg-card: rgba(0, 0, 0, 0.95);
        --bg-transparent: rgba(0, 0, 0, 0.3);
      }
    }

    /* Reduced motion support */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Focus styles for keyboard navigation */
    *:focus {
      outline: 2px solid var(--accent-blue);
      outline-offset: 2px;
    }

    /* Loading state */
    .loading-overlay {
      position: fixed;
      inset: 0;
      background: var(--bg-primary);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 1;
      transition: opacity 0.3s ease-out;
    }

    .loading-overlay.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-top: 3px solid var(--accent-blue);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>

<body>
  <!-- Skip link for screen readers -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Loading overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-spinner" aria-label="Loading"></div>
  </div>

  <!-- Background system -->
  <div class="background-container">
    <div class="background-image" id="backgroundImage" role="img" aria-label="Scenic landscape background"></div>
  </div>
  <div class="background-overlay"></div>

  <!-- Physics Golden Ball for Mobile -->
  <div class="physics-moon" id="physicsMoon"></div>

  <div class="main-container">
    <!-- Statistics section -->
    <header class="stats-section" role="banner">
      <div class="stat-card">
        <div class="stat-number visitors" id="visitorsCount" aria-label="Total visitors">0</div>
        <div class="stat-label">Visitors</div>
      </div>

      <div class="stat-card">
        <div class="stat-number date" id="currentDate" aria-label="Today's date">--</div>
        <div class="stat-label">Today's Date</div>
      </div>

      <div class="stat-card">
        <div class="stat-number visits" id="userVisits" aria-label="Your visits">0</div>
        <div class="stat-label">Your Visits</div>
      </div>
    </header>

    <!-- Main content -->
    <main class="main-content" id="main-content">
      <p class="subtitle">
        Do you need software or an app to develop your business?
      </p>

      <h1 class="main-title">Welcome to QRBrand Ltd</h1>

      <!-- Motivational quotes section -->
      <section class="motivational-container" role="region" aria-label="Motivational quotes">
        <!-- Black hole for bowling ball (mobile only) -->
        <div class="black-hole" id="blackHole"></div>
        <div class="motivational-quote" id="motivationalQuote">
          Success starts with one step in the right direction
        </div>
      </section>

      <!-- Contact information -->
      <section class="contact-grid" aria-label="Contact information">
        <div class="contact-item">
          <img src="https://flagcdn.com/w20/qa.png" alt="Qatar flag" class="flag-icon" loading="lazy">
          <span>Qatar: <a href="tel:+97455257048" style="color: inherit; text-decoration: none;">+974 5525 7048</a></span>
        </div>

        <div class="contact-item">
          <img src="https://flagcdn.com/w20/lb.png" alt="Lebanon flag" class="flag-icon" loading="lazy">
          <span>Beirut: <a href="tel:+9613338603" style="color: inherit; text-decoration: none;">+961 333 8603</a></span>
        </div>

        <div class="contact-item">
          <img src="https://flagcdn.com/w20/fr.png" alt="France flag" class="flag-icon" loading="lazy">
          <span>France: <a href="tel:+33761522776" style="color: inherit; text-decoration: none;">+33 761 522 776</a></span>
        </div>

        <div class="contact-item">
          <img src="https://flagcdn.com/w20/iq.png" alt="Iraq flag" class="flag-icon" loading="lazy">
          <span>Iraq: <a href="tel:+9647800530333" style="color: inherit; text-decoration: none;">+964 780 053 0333</a></span>
        </div>

        <div class="contact-item">
          <span>Email: <a href="mailto:info@qrbrand.net" style="color: inherit; text-decoration: none;">info@qrbrand.net</a></span>
        </div>
      </section>

      <!-- Company address -->
      <address class="company-address">
        Our company address and P.O. Box in the UK: 71-75 Shelton Street, Covent Garden, London, United Kingdom, WC2H 9JQ
      </address>
    </main>
  </div>

  <script>
    // Performance monitoring
    const performance = {
      start: Date.now(),
      marks: {},
      mark(name) {
        this.marks[name] = Date.now() - this.start;
      },
      measure(name, startMark, endMark) {
        const start = this.marks[startMark] || 0;
        const end = this.marks[endMark] || Date.now() - this.start;
        console.log(`${name}: ${end - start}ms`);
      }
    };

    // Enhanced gradient backgrounds - no external images needed
    const fallbackGradients = [
      'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
      'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)', 
      'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
      'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
      'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
      'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)',
      'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)',
      'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)',
      'linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)',
      'linear-gradient(135deg, #d299c2 0%, #fef9d7 100%)',
      'linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%)',
      'linear-gradient(135deg, #fdbb2d 0%, #22c1c3 100%)',
      'linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)',
      'linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)',
      'linear-gradient(135deg, #fad0c4 0%, #ffd1ff 100%)',
      'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)'
    ];

    // Optimized background image loading with enhanced performance
    class BackgroundManager {
      constructor() {
        this.currentImageIndex = 0;
        this.loadedImages = new Map();
        this.isLoading = false;
        this.backgroundElement = document.getElementById('backgroundImage');
        this.preloadQueue = [];
        this.init();
      }

      init() {
        performance.mark('backgroundInit');
        this.loadRandomBackground();
        
        // Preload next few images for smooth transitions
        setTimeout(() => this.preloadImages(), 500);
      }

      async loadRandomBackground() {
        if (this.isLoading) return;
        this.isLoading = true;

        // Skip external images entirely and use gradients directly
        console.log('Using beautiful gradient background');
        this.setFallbackBackground();
        performance.mark('backgroundLoaded');
        this.isLoading = false;
      }

      async getOptimizedImageUrl(imageId) {
        // Not needed - using gradients only
        return null;
      }

      loadImage(url) {
        return new Promise((resolve, reject) => {
          if (this.loadedImages.has(url)) {
            resolve(this.loadedImages.get(url));
            return;
          }

          const img = new Image();
          img.crossOrigin = 'anonymous';
          
          const timeout = setTimeout(() => {
            img.onload = null;
            img.onerror = null;
            reject(new Error('Image load timeout'));
          }, 5000); // Reduced timeout

          img.onload = () => {
            clearTimeout(timeout);
            this.loadedImages.set(url, img);
            resolve(img);
          };

          img.onerror = () => {
            clearTimeout(timeout);
            reject(new Error('Image load failed'));
          };

          img.src = url;
        });
      }

      setBackground(url) {
        this.backgroundElement.style.backgroundImage = `url('${url}')`;
        this.backgroundElement.classList.add('loaded');
      }

      setFallbackBackground() {
        const randomGradient = fallbackGradients[Math.floor(Math.random() * fallbackGradients.length)];
        this.backgroundElement.style.background = randomGradient;
        this.backgroundElement.classList.add('loaded');
      }

      async preloadImages() {
        // No longer needed since we're using gradients only
        console.log('Preloading disabled - using gradients only');
      }
    }

    // Mobile Touch Statistics Manager - Enhanced with subtitle motion and 5-second timing
    class MobileTouchManager {
      constructor() {
        this.isMobile = window.innerWidth <= 768;
        this.subtitleMotion = { x: 0, y: 0 };
        this.init();
      }

      init() {
        if (this.isMobile) {
          this.setupMobileTouchInteractions();
          this.setupSubtitleMotion();
          this.showInitialContactInfo();
        }
      }

      setupMobileTouchInteractions() {
        let touchTimer = null;
        let quoteTimer = null;
        
        // Enhanced touch interactions with 5-second timing
        document.addEventListener('touchstart', (e) => {
          clearTimeout(touchTimer);
          clearTimeout(quoteTimer);
          this.showContactElements();
          this.showMotivationalQuote();
        });

        document.addEventListener('touchend', () => {
          // Keep contact elements visible for 5 seconds after touch ends
          touchTimer = setTimeout(() => {
            this.hideContactElements();
          }, 5000);

          // Keep motivational quote visible for 5 seconds after touch ends
          quoteTimer = setTimeout(() => {
            this.hideMotivationalQuote();
          }, 5000);
        });

        // Handle window resize
        window.addEventListener('resize', () => {
          this.isMobile = window.innerWidth <= 768;
        });
      }

      setupSubtitleMotion() {
        // Enhanced device orientation for subtitle movement
        if (window.DeviceOrientationEvent) {
          window.addEventListener('deviceorientation', (e) => {
            const gamma = e.gamma || 0; // left-to-right tilt (-90 to 90)
            const beta = e.beta || 0;   // front-to-back tilt (-180 to 180)
            
            // Calculate smooth motion with realistic physics
            const maxMove = 15; // Maximum movement in pixels
            const moveX = (gamma / 90) * maxMove;
            const moveY = (beta / 180) * (maxMove * 0.3); // Less vertical movement
            
            // Apply motion to subtitle
            const subtitle = document.querySelector('.subtitle');
            if (subtitle) {
              subtitle.style.transform = `translate(${moveX}px, ${moveY}px)`;
            }
          }, { passive: true });
        }
      }

      showInitialContactInfo() {
        // Show contact info on page load for 5 seconds
        setTimeout(() => {
          this.showContactElements();
          
          // Hide after 5 seconds
          setTimeout(() => {
            this.hideContactElements();
          }, 5000);
        }, 1000); // Show after 1 second of page load
      }

      showContactElements() {
        const contactGrid = document.querySelector('.contact-grid');
        const companyAddress = document.querySelector('.company-address');
        
        if (contactGrid) {
          contactGrid.classList.add('visible');
        }
        if (companyAddress) {
          companyAddress.classList.add('visible');
        }
      }

      hideContactElements() {
        const contactGrid = document.querySelector('.contact-grid');
        const companyAddress = document.querySelector('.company-address');
        
        if (contactGrid) {
          contactGrid.classList.remove('visible');
        }
        if (companyAddress) {
          companyAddress.classList.remove('visible');
        }
      }

      showMotivationalQuote() {
        const motivationalQuote = document.querySelector('.motivational-quote');
        const blackHole = document.querySelector('.black-hole');
        if (motivationalQuote) {
          motivationalQuote.classList.add('visible');
        }
        if (blackHole) {
          blackHole.classList.add('hidden');
        }
      }

      hideMotivationalQuote() {
        const motivationalQuote = document.querySelector('.motivational-quote');
        const blackHole = document.querySelector('.black-hole');
        if (motivationalQuote) {
          motivationalQuote.classList.remove('visible');
        }
        if (blackHole) {
          blackHole.classList.remove('hidden');
        }
      }
    }

    // Advanced Physics Golden Ball with Haptic Feedback
    class PhysicsMoon {
      constructor() {
        this.moon = document.getElementById('physicsMoon');
        this.isMobile = window.innerWidth <= 768;
        
        // Ultra-realistic physics properties for bowling ball #8
        this.x = window.innerWidth / 2;
        this.y = window.innerHeight / 4;
        this.vx = 0;
        this.vy = 0;
        this.gravity = 0.6;
        this.bounce = 0.7;
        this.friction = 0.985;
        this.airResistance = 0.995;
        this.size = 50;
        this.mass = 3.5; // Heavier like real bowling ball
        this.rotationSpeed = 0;
        this.maxSpeed = 25;
        
        // Ultra-sensitive motion detection system
        this.motionThreshold = 0.3;
        this.accelerationHistory = [];
        this.maxHistoryLength = 10;
        this.smoothingFactor = 0.85;
        this.isDeviceMoving = false;
        this.lastValidMotion = Date.now();
        this.motionTimeout = 200; // ms
        this.sensitivity = {
          x: 0.35,
          y: 0.35,
          orientation: 0.15
        };
        
        // Motion and haptic properties with advanced mobile optimization
        this.lastCollisionTime = 0;
        this.collisionCooldown = 120;
        this.motionSensitivity = 0.18;
        this.orientationSensitivity = 0.10;
        this.lastOrientation = { beta: 0, gamma: 0 };
        this.smoothingFactor = 0.75;
        this.trailEffect = [];
        this.maxTrailLength = 8;
        
        // Advanced physics properties
        this.magneticPull = false;
        this.holeAttraction = 0;
        this.spinDecay = 0.985;
        
        // Performance optimization
        this.isAnimating = false;
        this.animationId = null;
        this.lastFrameTime = 0;
        this.targetFPS = 60;
        this.frameInterval = 1000 / this.targetFPS;
        
        if (this.isMobile) {
          this.init();
        }
      }

      init() {
        this.requestMotionPermissions();
        this.setupDeviceMotion();
        this.setupTouchInteractions();
        this.startAnimation();
        this.positionMoon();
      }

      async requestMotionPermissions() {
        // Request permissions for iOS 13+
        if (typeof DeviceMotionEvent.requestPermission === 'function') {
          try {
            const permission = await DeviceMotionEvent.requestPermission();
            if (permission !== 'granted') {
              console.log('Motion permission denied');
            }
          } catch (error) {
            console.log('Motion permission error:', error);
          }
        }

        if (typeof DeviceOrientationEvent.requestPermission === 'function') {
          try {
            const permission = await DeviceOrientationEvent.requestPermission();
            if (permission !== 'granted') {
              console.log('Orientation permission denied');
            }
          } catch (error) {
            console.log('Orientation permission error:', error);
          }
        }
      }

      setupDeviceMotion() {
        // Ultra-sensitive motion system for Android and iOS
        if (window.DeviceMotionEvent) {
          window.addEventListener('devicemotion', (e) => {
            const acc = e.accelerationIncludingGravity;
            if (acc && acc.x !== null && acc.y !== null && acc.z !== null) {
              
              // Store acceleration history for advanced filtering
              this.accelerationHistory.push({
                x: acc.x || 0,
                y: acc.y || 0,
                z: acc.z || 0,
                timestamp: Date.now()
              });
              
              if (this.accelerationHistory.length > this.maxHistoryLength) {
                this.accelerationHistory.shift();
              }
              
              // Calculate motion intensity with advanced filtering
              const currentAccel = this.accelerationHistory[this.accelerationHistory.length - 1];
              
              if (this.accelerationHistory.length >= 3) {
                const prevAccel = this.accelerationHistory[this.accelerationHistory.length - 3];
                
                // Calculate delta acceleration (change in movement)
                const deltaX = Math.abs(currentAccel.x - prevAccel.x);
                const deltaY = Math.abs(currentAccel.y - prevAccel.y);
                const deltaZ = Math.abs(currentAccel.z - prevAccel.z);
                
                const totalDelta = deltaX + deltaY + deltaZ;
                
                // Detect intentional movement vs gravity/vibration
                if (totalDelta > this.motionThreshold) {
                  this.isDeviceMoving = true;
                  this.lastValidMotion = Date.now();
                  
                  // Apply ultra-precise motion with directional sensitivity
                  const forceX = currentAccel.x * this.sensitivity.x;
                  const forceY = -currentAccel.y * this.sensitivity.y; // Invert Y for natural feel
                  
                  // Apply forces with advanced physics
                  this.vx += forceX * this.smoothingFactor;
                  this.vy += forceY * this.smoothingFactor;
                  
                  // Apply realistic velocity limits
                  this.vx = Math.max(-this.maxSpeed, Math.min(this.maxSpeed, this.vx));
                  this.vy = Math.max(-this.maxSpeed, Math.min(this.maxSpeed, this.vy));
                  
                } else if (Date.now() - this.lastValidMotion > this.motionTimeout) {
                  // Device is stationary - apply strong decay
                  this.isDeviceMoving = false;
                  this.vx *= 0.88;
                  this.vy *= 0.88;
                  
                  // Complete stop for micro-movements
                  if (Math.abs(this.vx) < 0.2) this.vx = 0;
                  if (Math.abs(this.vy) < 0.2) this.vy = 0;
                }
              }
            }
          }, { passive: true });
        }

        // Enhanced orientation with ultra-precise tilt detection
        if (window.DeviceOrientationEvent) {
          let lastOrientation = { beta: 0, gamma: 0 };
          
          window.addEventListener('deviceorientation', (e) => {
            const beta = e.beta || 0;
            const gamma = e.gamma || 0;
            
            // Calculate orientation changes with high precision
            const betaChange = Math.abs(beta - lastOrientation.beta);
            const gammaChange = Math.abs(gamma - lastOrientation.gamma);
            
            // Only apply forces for significant orientation changes
            if (betaChange > 0.5 || gammaChange > 0.5) {
              // Apply smooth tilt forces
              this.vx += gamma * this.sensitivity.orientation;
              this.vy += beta * this.sensitivity.orientation;
              
              this.isDeviceMoving = true;
              this.lastValidMotion = Date.now();
            }
            
            lastOrientation = { beta, gamma };
          }, { passive: true });
        }
      }

      setupTouchInteractions() {
        // Add touch interactions for manual control
        document.addEventListener('touchstart', (e) => {
          const touch = e.touches[0];
          const moonRect = this.moon.getBoundingClientRect();
          const distance = Math.sqrt(
            Math.pow(touch.clientX - (moonRect.left + moonRect.width / 2), 2) +
            Math.pow(touch.clientY - (moonRect.top + moonRect.height / 2), 2)
          );
          
          if (distance < 50) {
            e.preventDefault();
            this.handleTouch(touch);
          }
        }, { passive: false });

        document.addEventListener('touchmove', (e) => {
          const touch = e.touches[0];
          const moonRect = this.moon.getBoundingClientRect();
          const distance = Math.sqrt(
            Math.pow(touch.clientX - (moonRect.left + moonRect.width / 2), 2) +
            Math.pow(touch.clientY - (moonRect.top + moonRect.height / 2), 2)
          );
          
          if (distance < 50) {
            e.preventDefault();
            this.handleTouch(touch);
          }
        }, { passive: false });
      }

      handleTouch(touch) {
        const rect = this.moon.getBoundingClientRect();
        const centerX = rect.left + rect.width / 2;
        const centerY = rect.top + rect.height / 2;
        
        const deltaX = touch.clientX - centerX;
        const deltaY = touch.clientY - centerY;
        
        // Apply touch force
        this.vx += deltaX * 0.02;
        this.vy += deltaY * 0.02;
        
        this.triggerHapticFeedback('light');
      }

      startAnimation() {
        if (this.isAnimating) return;
        this.isAnimating = true;
        this.animate();
      }

      animate(currentTime = 0) {
        if (!this.isMobile || !this.isAnimating) return;

        // Throttle to target FPS
        if (currentTime - this.lastFrameTime < this.frameInterval) {
          this.animationId = requestAnimationFrame((time) => this.animate(time));
          return;
        }
        this.lastFrameTime = currentTime;

        const bounds = {
          width: window.innerWidth,
          height: window.innerHeight
        };

        // Apply realistic bowling ball physics
        this.vy += this.gravity;
        this.vx *= this.friction;
        this.vy *= this.airResistance;

        // Apply air resistance
        this.vx *= this.airResistance;

        // Limit maximum speed for realism
        const currentSpeed = Math.sqrt(this.vx * this.vx + this.vy * this.vy);
        if (currentSpeed > this.maxSpeed) {
          const ratio = this.maxSpeed / currentSpeed;
          this.vx *= ratio;
          this.vy *= ratio;
        }

        // Update position with enhanced precision
        this.x += this.vx;
        this.y += this.vy;

        // Check collision with title
        this.checkTitleCollision();

        // Check black hole collision
        this.checkBlackHoleCollision();

        // Enhanced collision detection with realistic bowling ball physics
        let hasCollision = false;

        if (this.x <= 0 || this.x >= bounds.width - this.size) {
          this.vx *= -this.bounce;
          this.x = this.x <= 0 ? 0 : bounds.width - this.size;
          hasCollision = true;
          
          // Add spin effect on wall collision
          this.rotationSpeed += Math.abs(this.vx) * 0.1;
        }

        if (this.y <= 0 || this.y >= bounds.height - this.size) {
          this.vy *= -this.bounce;
          this.y = this.y <= 0 ? 0 : bounds.height - this.size;
          hasCollision = true;
          
          // More realistic floor bounce with energy loss
          if (this.y >= bounds.height - this.size) {
            this.vy *= 0.8; // Energy loss on floor impact
            this.vx *= 0.95; // Friction on floor
          }
        }

        // Handle collisions with enhanced feedback
        if (hasCollision && Date.now() - this.lastCollisionTime > this.collisionCooldown) {
          this.handleCollision();
          this.lastCollisionTime = Date.now();
        }

        // Apply rotation to visual element
        this.rotationSpeed *= 0.98; // Gradual rotation decay
        this.positionMoon();
        this.animationId = requestAnimationFrame((time) => this.animate(time));
      }

      checkBlackHoleCollision() {
        const blackHole = document.getElementById('blackHole');
        if (!blackHole || blackHole.classList.contains('hidden')) return;

        const blackHoleRect = blackHole.getBoundingClientRect();
        const ballCenterX = this.x + this.size / 2;
        const ballCenterY = this.y + this.size / 2;
        const holeCenterX = blackHoleRect.left + blackHoleRect.width / 2;
        const holeCenterY = blackHoleRect.top + blackHoleRect.height / 2;

        const distance = Math.sqrt(
          Math.pow(ballCenterX - holeCenterX, 2) + 
          Math.pow(ballCenterY - holeCenterY, 2)
        );

        // Advanced magnetic attraction effect
        if (distance < 80) {
          this.magneticPull = true;
          this.holeAttraction = Math.max(0.5, (80 - distance) / 80);
          
          // Apply magnetic force towards hole
          const forceX = (holeCenterX - ballCenterX) * this.holeAttraction * 0.08;
          const forceY = (holeCenterY - ballCenterY) * this.holeAttraction * 0.08;
          
          this.vx += forceX;
          this.vy += forceY;
          
          // Add visual magnetic effect
          this.addMagneticWave(holeCenterX, holeCenterY);
        } else {
          this.magneticPull = false;
          this.holeAttraction = 0;
        }

        // If ball is close enough to the hole, it gets pulled in
        if (distance < 25) {
          this.fallIntoHole(holeCenterX, holeCenterY);
        }
      }

      addMagneticWave(holeX, holeY) {
        // Create magnetic attraction wave effect
        if (Math.random() < 0.3) { // Limit frequency for performance
          const wave = document.createElement('div');
          wave.style.cssText = `
            position: fixed;
            width: 30px;
            height: 30px;
            border: 2px solid rgba(100, 100, 255, 0.4);
            border-radius: 50%;
            left: ${holeX - 15}px;
            top: ${holeY - 15}px;
            pointer-events: none;
            z-index: 45;
            animation: magneticWave 0.8s ease-out forwards;
          `;
          
          // Add keyframe animation
          if (!document.getElementById('magneticWaveStyle')) {
            const style = document.createElement('style');
            style.id = 'magneticWaveStyle';
            style.textContent = `
              @keyframes magneticWave {
                0% { transform: scale(1); opacity: 0.6; }
                100% { transform: scale(2.5); opacity: 0; }
              }
            `;
            document.head.appendChild(style);
          }
          
          document.body.appendChild(wave);
          
          setTimeout(() => {
            if (wave.parentNode) {
              document.body.removeChild(wave);
            }
          }, 800);
        }
      }

      fallIntoHole(holeX, holeY) {
        // Stop the ball and animate it falling into the hole
        this.vx = 0;
        this.vy = 0;
        this.isAnimating = false;

        // Change background gradient when ball falls
        this.changeBackgroundOnSuccess();

        // Animate ball shrinking and moving to hole center with advanced effects
        const ballElement = this.moon;
        ballElement.classList.add('falling');
        ballElement.style.transition = 'all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
        ballElement.style.transform = `translate3d(${holeX - 25}px, ${holeY - 25}px, 0) scale(0.05) rotate(720deg)`;
        ballElement.style.opacity = '0';

        // Advanced haptic pattern for success
        this.triggerAdvancedHaptic();

        // Add screen flash effect
        this.createScreenFlash();

        // Show contact information for 3 seconds
        setTimeout(() => {
          this.showContactInfo();
        }, 600);

        // Reset ball position and restart animation after contact info disappears
        setTimeout(() => {
          this.resetBall();
        }, 6000); // 5 seconds for contact info + 1 second buffer
      }

      changeBackgroundOnSuccess() {
        const backgroundElement = document.getElementById('backgroundImage');
        if (backgroundElement) {
          // Create a success gradient
          const successGradients = [
            'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
            'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
            'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
            'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
            'linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)'
          ];
          
          const randomGradient = successGradients[Math.floor(Math.random() * successGradients.length)];
          backgroundElement.style.background = randomGradient;
          backgroundElement.style.transition = 'background 1.5s ease-in-out';
          
          // Revert to original after 5 seconds
          setTimeout(() => {
            const originalGradients = [
              'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
              'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)', 
              'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
              'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
              'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
              'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)',
              'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)',
              'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)',
              'linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)',
              'linear-gradient(135deg, #d299c2 0%, #fef9d7 100%)',
              'linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%)',
              'linear-gradient(135deg, #fdbb2d 0%, #22c1c3 100%)',
              'linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)',
              'linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)',
              'linear-gradient(135deg, #fad0c4 0%, #ffd1ff 100%)',
              'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)'
            ];
            const originalGradient = originalGradients[Math.floor(Math.random() * originalGradients.length)];
            backgroundElement.style.background = originalGradient;
          }, 5000);
        }
      }

      triggerAdvancedHaptic() {
        if (!navigator.vibrate) return;
        
        // Advanced success haptic pattern
        const successPattern = [100, 50, 100, 50, 200, 100, 300];
        try {
          navigator.vibrate(successPattern);
        } catch (error) {
          // Fallback to simple vibration
          navigator.vibrate(200);
        }
      }

      createScreenFlash() {
        // Create a subtle screen flash effect
        const flash = document.createElement('div');
        flash.style.cssText = `
          position: fixed;
          inset: 0;
          background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
          z-index: 1000;
          pointer-events: none;
          opacity: 0;
          transition: opacity 0.3s ease-out;
        `;
        
        document.body.appendChild(flash);
        
        // Flash animation
        requestAnimationFrame(() => {
          flash.style.opacity = '1';
          setTimeout(() => {
            flash.style.opacity = '0';
            setTimeout(() => {
              document.body.removeChild(flash);
            }, 300);
          }, 100);
        });
      }

      showContactInfo() {
        const contactGrid = document.querySelector('.contact-grid');
        const companyAddress = document.querySelector('.company-address');
        
        if (contactGrid) {
          contactGrid.classList.add('visible');
        }
        if (companyAddress) {
          companyAddress.classList.add('visible');
        }

        // Hide contact info after 5 seconds
        setTimeout(() => {
          if (contactGrid) {
            contactGrid.classList.remove('visible');
          }
          if (companyAddress) {
            companyAddress.classList.remove('visible');
          }
        }, 5000);
      }

      resetBall() {
        // Reset ball to starting position - stationary until device moves
        this.x = Math.random() * (window.innerWidth - this.size);
        this.y = 30 + Math.random() * 50;
        this.vx = 0; // Start stationary
        this.vy = 0; // Start stationary
        this.rotationSpeed = 0;
        this.isDeviceMoving = false;

        // Reset visual properties with smooth entrance
        const ballElement = this.moon;
        ballElement.classList.remove('falling');
        ballElement.style.transition = 'all 0.6s cubic-bezier(0.16, 1, 0.3, 1)';
        ballElement.style.opacity = '0';
        ballElement.style.transform = `translate3d(${this.x}px, ${this.y - 50}px, 0) scale(0.8)`;

        // Animate entrance
        setTimeout(() => {
          ballElement.style.opacity = '1';
          ballElement.style.transform = `translate3d(${this.x}px, ${this.y}px, 0) scale(1)`;
          
          setTimeout(() => {
            ballElement.style.transition = 'all 0.04s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
            // Restart animation
            this.isAnimating = true;
            this.animate();
          }, 600);
        }, 100);
      }

      checkTitleCollision() {
        const titleElement = document.querySelector('.main-title');
        if (!titleElement) return;

        const titleRect = titleElement.getBoundingClientRect();
        const ballCenterX = this.x + this.size / 2;
        const ballCenterY = this.y + this.size / 2;

        // Check if ball intersects with title
        if (ballCenterX >= titleRect.left && 
            ballCenterX <= titleRect.right && 
            ballCenterY >= titleRect.top && 
            ballCenterY <= titleRect.bottom) {
          
          this.pushTitle(titleElement, ballCenterX, ballCenterY, titleRect);
          
          // Realistic ball bounce based on collision point
          const titleCenterX = titleRect.left + titleRect.width / 2;
          const titleCenterY = titleRect.top + titleRect.height / 2;
          
          // Calculate collision angle
          const deltaX = ballCenterX - titleCenterX;
          const deltaY = ballCenterY - titleCenterY;
          
          // Apply realistic physics bounce
          this.vy *= -this.bounce;
          this.vx += (deltaX / titleRect.width) * 8; // Side impact effect
          
          // Add some randomness for realism
          this.vx += (Math.random() - 0.5) * 2;
          this.vy += (Math.random() - 0.5) * 1;
        }
      }

      pushTitle(titleElement, ballX, ballY, titleRect) {
        if (titleElement.classList.contains('pushed')) return;

        // Calculate push direction based on collision point
        const titleCenterX = titleRect.left + titleRect.width / 2;
        const titleCenterY = titleRect.top + titleRect.height / 2;
        
        const deltaX = ballX - titleCenterX;
        const deltaY = ballY - titleCenterY;
        
        // Normalize the push direction
        const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
        const pushX = (deltaX / distance) * 30; // Push strength
        const pushY = (deltaY / distance) * 15; // Reduced vertical push
        
        // Apply realistic push motion
        titleElement.classList.add('pushed');
        titleElement.style.transform = `translate(${pushX}px, ${pushY}px) rotate(${pushX * 0.3}deg)`;
        
        // Return to original position after realistic timing
        setTimeout(() => {
          titleElement.style.transform = 'translate(0px, 0px) rotate(0deg)';
          
          setTimeout(() => {
            titleElement.classList.remove('pushed');
          }, 600);
        }, 400);
      }

      handleCollision() {
        // Visual feedback
        this.moon.classList.add('bouncing');
        setTimeout(() => {
          this.moon.classList.remove('bouncing');
        }, 120);

        // Haptic feedback with intensity based on velocity
        const velocity = Math.sqrt(this.vx * this.vx + this.vy * this.vy);
        if (velocity > 8) {
          this.triggerHapticFeedback('heavy');
        } else if (velocity > 4) {
          this.triggerHapticFeedback('medium');
        } else {
          this.triggerHapticFeedback('light');
        }

        // Add slight random variation to prevent predictable movement
        this.vx += (Math.random() - 0.5) * 0.5;
        this.vy += (Math.random() - 0.5) * 0.5;
      }

      positionMoon() {
        // Use transform3d for hardware acceleration with rotation
        const rotation = this.rotationSpeed * (Date.now() * 0.01);
        this.moon.style.transform = `translate3d(${this.x}px, ${this.y}px, 0) rotate(${rotation}deg)`;
      }

      triggerHapticFeedback(intensity = 'medium') {
        if (!navigator.vibrate) return;

        const patterns = {
          light: [10],
          medium: [20],
          heavy: [50],
          double: [20, 100, 30]
        };

        try {
          navigator.vibrate(patterns[intensity] || patterns.medium);
        } catch (error) {
          // Haptic feedback not supported
        }
      }

      destroy() {
        this.isAnimating = false;
        if (this.animationId) {
          cancelAnimationFrame(this.animationId);
        }
      }
    }

    class StatisticsManager {
      constructor() {
        this.init();
      }

      init() {
        this.updateVisitorCount();
        this.updateUserVisits();
        this.updateCurrentDate();
      }

      updateVisitorCount() {
        let globalVisitors = this.getStoredValue('global_visitors_base');
        if (!globalVisitors) {
          globalVisitors = 50000 + Math.floor(Math.random() * 5000);
        }
        globalVisitors = Number(globalVisitors) + 1;
        
        this.setStoredValue('global_visitors_base', globalVisitors);
        this.animateNumber('visitorsCount', globalVisitors);
      }

      updateUserVisits() {
        let userVisits = Number(this.getStoredValue('user_visits') || 0) + 1;
        this.setStoredValue('user_visits', userVisits);
        this.animateNumber('userVisits', userVisits);
      }

      updateCurrentDate() {
        const now = new Date();
        const formattedDate = now.toLocaleDateString('en-GB', {
          day: '2-digit',
          month: '2-digit',
          year: 'numeric'
        });
        
        document.getElementById('currentDate').textContent = formattedDate;
      }

      animateNumber(elementId, targetValue) {
        const element = document.getElementById(elementId);
        const duration = 1200;
        const startTime = Date.now();
        const startValue = 0;
        
        const animate = () => {
          const elapsed = Date.now() - startTime;
          const progress = Math.min(elapsed / duration, 1);
          
          // Easing function for smooth animation
          const easeOut = 1 - Math.pow(1 - progress, 3);
          const currentValue = Math.floor(startValue + (targetValue - startValue) * easeOut);
          
          element.textContent = this.formatNumber(currentValue);
          
          if (progress < 1) {
            requestAnimationFrame(animate);
          }
        };
        
        requestAnimationFrame(animate);
      }

      formatNumber(num) {
        return num.toLocaleString();
      }

      getStoredValue(key) {
        try {
          return localStorage.getItem(key);
        } catch (e) {
          return null;
        }
      }

      setStoredValue(key, value) {
        try {
          localStorage.setItem(key, value.toString());
        } catch (e) {
          // Handle localStorage quota exceeded or disabled
        }
      }
    }

    // Motivational Quotes Manager
    class MotivationalQuotes {
      constructor() {
        this.quotes = [
          "Success starts with one step in the right direction",
          "Every day is a new opportunity to achieve dreams",
          "Believing in yourself is the first step to success",
          "Optimism is the key to solving all problems",
          "Never give up, success is closer than you think",
          "Ambition is the beginning of success and will is its path",
          "Be stronger than your excuses and bigger than your fears",
          "Self-confidence creates miracles in life",
          "Your dream is possible, just start now",
          "Challenges create the strong and the great",
          "Failure is a lesson, not the end of the story",
          "Remember, you are stronger than you think",
          "Patience and persistence are the path to every success",
          "Change your thinking, change your life for the better",
          "A new beginning needs only one moment of courage",
          "Hope is the light that illuminates the path to success",
          "Turn today's obstacle into tomorrow's achievement",
          "Success is not coincidence but the result of hard work",
          "Positive energy attracts positive results",
          "Every attempt brings you one step closer to the goal",
          "Work in silence and let them see the success",
          "Excellence is a habit, not a random act",
          "Creativity begins when you step out of the ordinary",
          "Big dreams need small steps to achieve",
          "Invest in yourself, it's the best investment ever",
          "Positive thinking creates positive reality",
          "True strength lies in never giving up",
          "A smile is the key to hearts and minds",
          "Today is an opportunity to be better than yesterday",
          "Success is a journey, not just a destination"
        ];
        
        this.currentIndex = 0;
        this.quoteElement = document.getElementById('motivationalQuote');
        this.isMobile = window.innerWidth <= 768;
        this.init();
      }

      init() {
        if (this.quoteElement) {
          this.setupClickHandler();
          this.showRandomQuote();
        }
      }

      setupClickHandler() {
        // Only handle touch events on mobile
        if (this.isMobile) {
          this.quoteElement.addEventListener('touchstart', (e) => {
            e.preventDefault();
            this.changeQuote();
          });
        } else {
          // On desktop, allow click for quote changes
          this.quoteElement.addEventListener('click', () => {
            this.changeQuote();
          });
        }
      }

      showRandomQuote() {
        const randomIndex = Math.floor(Math.random() * this.quotes.length);
        this.currentIndex = randomIndex;
        this.quoteElement.textContent = this.quotes[randomIndex];
      }

      changeQuote() {
        // Add changing animation
        this.quoteElement.classList.add('changing');

        setTimeout(() => {
          // Get next quote (avoid repeating the same quote)
          let nextIndex = Math.floor(Math.random() * this.quotes.length);
          while (nextIndex === this.currentIndex && this.quotes.length > 1) {
            nextIndex = Math.floor(Math.random() * this.quotes.length);
          }
          
          this.currentIndex = nextIndex;
          this.quoteElement.textContent = this.quotes[nextIndex];
          
          // Remove changing animation
          this.quoteElement.classList.remove('changing');
          
          // Auto hide after 5 seconds
          setTimeout(() => {
            this.quoteElement.classList.add('changing');
            setTimeout(() => {
              this.quoteElement.textContent = "Success starts with one step in the right direction"; // Default quote
              this.quoteElement.classList.remove('changing');
            }, 250);
          }, 5000);
          
        }, 250);
      }
    }

    // Application initialization
    class App {
      constructor() {
        this.backgroundManager = null;
        this.statisticsManager = null;
        this.searchManager = null;
        this.init();
      }

      async init() {
        performance.mark('appInit');
        
        // Wait for DOM to be ready
        if (document.readyState === 'loading') {
          await new Promise(resolve => {
            document.addEventListener('DOMContentLoaded', resolve);
          });
        }

        try {
          // Initialize managers
          this.backgroundManager = new BackgroundManager();
          this.statisticsManager = new StatisticsManager();
          this.motivationalQuotes = new MotivationalQuotes();
          this.mobileTouchManager = new MobileTouchManager();
          this.physicsMoon = new PhysicsMoon();

          // Hide loading overlay
          setTimeout(() => {
            const loadingOverlay = document.getElementById('loadingOverlay');
            if (loadingOverlay) {
              loadingOverlay.classList.add('hidden');
              setTimeout(() => loadingOverlay.remove(), 300);
            }
          }, 600);

          performance.mark('appReady');
          console.log('QRBrand application initialized successfully');
          
        } catch (error) {
          console.error('Failed to initialize application:', error);
          this.handleInitError();
        }
      }

      handleInitError() {
        const loadingOverlay = document.getElementById('loadingOverlay');
        if (loadingOverlay) {
          loadingOverlay.innerHTML = `
            <div style="text-align: center; color: white;">
              <p>Loading failed. Please refresh the page.</p>
              <button onclick="location.reload()" style="
                margin-top: 10px;
                padding: 10px 20px;
                background: var(--accent-blue);
                color: white;
                border: none;
                border-radius: 6px;
                cursor: pointer;
              ">Refresh</button>
            </div>
          `;
        }
      }
    }

    // Error handling
    window.addEventListener('error', (e) => {
      console.error('Runtime error:', e.error);
    });

    window.addEventListener('unhandledrejection', (e) => {
      console.error('Unhandled promise rejection:', e.reason);
    });

    // Initialize application
    const app = new App();
  </script>
</body>
</html>