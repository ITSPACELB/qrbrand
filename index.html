<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="description" content="QRBrand Ltd - Professional software and app development services. Contact us for custom business solutions across Qatar, Lebanon, France, and Iraq.">
  <meta name="keywords" content="software development, app development, business solutions, QRBrand, custom software">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#111111">
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="QRBrand Ltd - Software & App Development">
  <meta property="og:description" content="Professional software and app development services for your business needs.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://qrbrand.net">
  
  <title>QRBrand Ltd - Software & App Development Services</title>
  
  <!-- Preload critical resources -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://images.unsplash.com" crossorigin>
  <link rel="preconnect" href="https://flagcdn.com" crossorigin>
  
  <!-- Load fonts with font-display: swap for better performance -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  
  <style>
    :root {
      /* Color system */
      --primary-text: #ffffff;
      --secondary-text: rgba(255, 255, 255, 0.85);
      --tertiary-text: rgba(255, 255, 255, 0.65);
      --accent-orange: #ff6b35;
      --accent-blue: #4a9eff;
      --accent-success: #00d4aa;
      
      /* Background system */
      --bg-primary: #0a0a0a;
      --bg-overlay: linear-gradient(180deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 30%, rgba(0,0,0,0.2) 60%, rgba(0,0,0,0.05) 100%);
      --bg-glass: rgba(0, 0, 0, 0.4);
      --bg-glass-light: rgba(255, 255, 255, 0.95);
      --bg-card: rgba(0, 0, 0, 0.8);
      --bg-transparent: rgba(0, 0, 0, 0.1);
      
      /* Spacing system */
      --spacing-xs: 4px;
      --spacing-sm: 8px;
      --spacing-md: 16px;
      --spacing-lg: 24px;
      --spacing-xl: 32px;
      --spacing-2xl: 48px;
      --spacing-3xl: 64px;
      
      /* Typography system */
      --font-size-xs: 12px;
      --font-size-sm: 14px;
      --font-size-base: 16px;
      --font-size-lg: 18px;
      --font-size-xl: 24px;
      --font-size-2xl: 32px;
      --font-size-3xl: 48px;
      --font-size-4xl: 64px;
      
      /* Border radius */
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      --radius-full: 9999px;
      
      /* Shadows */
      --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.15);
      --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.2);
      --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.25);
      --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.3);
      
      /* Transitions */
      --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-base: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-slow: 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Reset and base styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      font-size: 16px;
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 400;
      line-height: 1.6;
      color: var(--primary-text);
      background: var(--bg-primary);
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Skip link for accessibility */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 6px;
      background: var(--bg-card);
      color: var(--primary-text);
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--radius-sm);
      text-decoration: none;
      font-size: var(--font-size-sm);
      z-index: 1000;
      transition: top var(--transition-fast);
    }

    .skip-link:focus {
      top: 6px;
    }

    /* Background and overlay system */
    .background-container {
      position: fixed;
      inset: 0;
      z-index: -2;
      background: var(--bg-primary);
    }

    .background-image {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      opacity: 0;
      transition: opacity 0.4s ease-in-out;
      filter: brightness(1.1) contrast(1.05) saturate(1.1);
    }

    .background-image.loaded {
      opacity: 1;
    }

    .background-overlay {
      position: fixed;
      inset: 0;
      z-index: -1;
      background: var(--bg-overlay);
      backdrop-filter: blur(0.5px);
    }

    /* Layout containers */
    .main-container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
      z-index: 1;
    }

    /* Statistics section - hidden completely on mobile */
    .stats-section {
      display: flex;
      align-items: flex-start;
      justify-content: flex-start;
      gap: var(--spacing-3xl);
      padding: var(--spacing-2xl) var(--spacing-3xl) 0;
      flex-wrap: wrap;
      transition: transform 0.3s ease-out, opacity 0.3s ease-out;
    }

    @media (max-width: 768px) {
      .stats-section {
        display: none !important;
      }
    }

    .stat-card {
      min-width: 160px;
      display: flex;
      flex-direction: column;
      gap: var(--spacing-xs);
    }

    .stat-number {
      font-weight: 600;
      line-height: 1;
      letter-spacing: -0.02em;
      text-shadow: 0 2px 16px rgba(0, 0, 0, 0.6);
      font-feature-settings: 'tnum' 1;
    }

    .stat-number.visitors {
      font-size: 40px;
      color: var(--accent-orange);
    }

    .stat-number.date {
      font-size: 40px;
      color: var(--accent-blue);
      white-space: nowrap;
    }

    .stat-number.visits {
      font-size: 40px;
      color: var(--accent-success);
    }

    .stat-label {
      font-size: var(--font-size-sm);
      color: var(--secondary-text);
      font-weight: 400;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    /* Main content section */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: var(--spacing-lg);
      text-align: center;
      max-width: 900px;
      margin: 0 auto;
    }

    .main-title {
      font-size: var(--font-size-4xl);
      font-weight: 500;
      line-height: 1.1;
      letter-spacing: -0.02em;
      margin-bottom: var(--spacing-lg);
      text-shadow: 0 4px 24px rgba(0, 0, 0, 0.6);
    }

    .subtitle {
      display: inline-block;
      background: var(--bg-card);
      color: var(--primary-text);
      padding: var(--spacing-md) var(--spacing-xl);
      border-radius: var(--radius-lg);
      font-size: var(--font-size-base);
      margin-bottom: var(--spacing-xl);
      box-shadow: var(--shadow-md);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      max-width: min(760px, 86vw);
      line-height: 1.5;
    }

    /* Search section */
    .search-container {
      width: 100%;
      max-width: 760px;
      margin-bottom: var(--spacing-lg);
    }

    .search-form {
      position: relative;
      width: 100%;
    }

    .search-input-container {
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      background: var(--bg-glass-light);
      border-radius: var(--radius-xl);
      padding: var(--spacing-lg) var(--spacing-xl);
      box-shadow: var(--shadow-lg);
      transition: all var(--transition-fast);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .search-input-container:focus-within {
      box-shadow: var(--shadow-xl);
      transform: translateY(-1px);
    }

    .search-input {
      flex: 1;
      border: none;
      outline: none;
      font-size: var(--font-size-base);
      background: transparent;
      color: #2d3748;
      font-family: inherit;
    }

    .search-input::placeholder {
      color: #718096;
    }

    .search-button {
      border: none;
      background: transparent;
      cursor: pointer;
      font-size: var(--font-size-lg);
      color: #4a5568;
      padding: var(--spacing-xs);
      border-radius: var(--radius-sm);
      transition: all var(--transition-fast);
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 32px;
      min-height: 32px;
    }

    .search-button:hover,
    .search-button:focus {
      background: rgba(0, 0, 0, 0.1);
      transform: scale(1.05);
    }

    /* Search suggestions */
    .suggestions-container {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      margin-top: var(--spacing-sm);
      box-shadow: var(--shadow-lg);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      opacity: 0;
      visibility: hidden;
      transform: translateY(-8px);
      transition: all var(--transition-fast);
      z-index: 10;
    }

    .suggestions-container.visible {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .suggestion-item {
      padding: var(--spacing-md) var(--spacing-lg);
      cursor: pointer;
      transition: background-color var(--transition-fast);
      font-size: var(--font-size-sm);
      color: var(--secondary-text);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .suggestion-item:last-child {
      border-bottom: none;
    }

    .suggestion-item:hover,
    .suggestion-item:focus {
      background: rgba(255, 255, 255, 0.1);
      color: var(--primary-text);
    }

    /* Company address - smaller on mobile */
    .company-address {
      display: inline-block;
      max-width: min(760px, 86vw);
      background: var(--bg-transparent);
      color: var(--primary-text);
      padding: var(--spacing-md) var(--spacing-xl);
      border-radius: var(--radius-lg);
      margin-bottom: var(--spacing-xl);
      font-size: var(--font-size-base);
      line-height: 1.6;
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .company-address.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Contact information - enhanced mobile interactions */
    .contact-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: var(--spacing-sm);
      width: 100%;
      max-width: 720px;
      margin-top: var(--spacing-xl);
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .contact-grid.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .contact-item {
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.6);
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--radius-sm);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      font-size: var(--font-size-xs);
      color: var(--primary-text);
      transition: all var(--transition-fast);
      min-height: 38px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
      position: relative;
      overflow: hidden;
      width: fit-content;
      margin: 0 auto;
    }

    .contact-item::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(45deg, rgba(255, 255, 255, 0.1), transparent);
      opacity: 0;
      transition: opacity var(--transition-fast);
    }

    .contact-item:hover {
      background: rgba(255, 255, 255, 0.2);
      color: var(--primary-text);
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
      border-color: rgba(255, 255, 255, 0.3);
    }

    .contact-item:hover::before {
      opacity: 1;
    }

    .flag-icon {
      width: 16px;
      height: 12px;
      margin-right: var(--spacing-xs);
      border-radius: 2px;
      object-fit: cover;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    }

    /* Footer */
    .footer {
      position: fixed;
      left: var(--spacing-3xl);
      bottom: var(--spacing-lg);
      z-index: 5;
      background: var(--bg-glass);
      color: var(--tertiary-text);
      font-size: var(--font-size-xs);
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--radius-sm);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    /* Physics Moon Ball - Enhanced for Mobile with Haptic Feedback */
    .physics-moon {
      position: fixed;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: radial-gradient(circle at 35% 25%, #ffffff, #f0f0f0, #d8d8d8, #a8a8a8);
      box-shadow: 
        inset -8px -8px 15px rgba(0, 0, 0, 0.4),
        inset 4px 4px 8px rgba(255, 255, 255, 0.6),
        0 0 25px rgba(255, 255, 255, 0.4),
        0 0 50px rgba(255, 255, 255, 0.2),
        0 4px 15px rgba(0, 0, 0, 0.3);
      z-index: 50;
      pointer-events: none;
      display: none;
      transition: all 0.08s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      will-change: transform;
    }

    .physics-moon::before {
      content: '';
      position: absolute;
      top: 12px;
      left: 16px;
      width: 7px;
      height: 7px;
      background: radial-gradient(circle, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.1));
      border-radius: 50%;
      box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }

    .physics-moon::after {
      content: '';
      position: absolute;
      top: 20px;
      right: 12px;
      width: 5px;
      height: 5px;
      background: radial-gradient(circle, rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.1));
      border-radius: 50%;
      box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.15);
    }

    .physics-moon.bouncing {
      transform: scale(1.15);
      box-shadow: 
        inset -8px -8px 15px rgba(0, 0, 0, 0.4),
        inset 4px 4px 8px rgba(255, 255, 255, 0.6),
        0 0 35px rgba(255, 255, 255, 0.6),
        0 0 70px rgba(255, 255, 255, 0.3),
        0 6px 20px rgba(0, 0, 0, 0.4);
    }

    @media (max-width: 768px) {
      .physics-moon {
        display: block;
      }
    }

    /* Responsive design - ŸÖÿ≠ÿ≥ŸÜ ŸÑŸÑŸÖŸàÿ®ÿßŸäŸÑ */
    @media (max-width: 768px) {
      :root {
        --font-size-3xl: 36px;
        --font-size-4xl: 42px;
      }

      .main-content {
        padding: var(--spacing-md);
      }

      .main-title {
        font-size: var(--font-size-3xl);
        margin-bottom: var(--spacing-md);
      }

      .subtitle {
        font-size: var(--font-size-sm);
        padding: var(--spacing-md) var(--spacing-lg);
        max-width: 94vw;
      }

      .company-address {
        font-size: 11px;
        max-width: 94vw;
        padding: var(--spacing-sm) var(--spacing-md);
        line-height: 1.4;
      }

      .search-input-container {
        padding: var(--spacing-md) var(--spacing-lg);
        border-radius: var(--radius-lg);
      }

      .search-input {
        font-size: var(--font-size-sm);
      }

      /* Enhanced touch interactions for contact information */
      .contact-grid {
        flex-direction: column;
        align-items: center;
        gap: var(--spacing-xs);
        max-width: 92vw;
      }

      .contact-item {
        font-size: 11px;
        padding: var(--spacing-sm) var(--spacing-md);
        min-height: 34px;
        text-align: center;
        background: rgba(0, 0, 0, 0.85);
        border: 1px solid rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(20px);
        transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        transform: scale(0.95);
      }

      .contact-item:hover,
      .contact-item:active {
        background: rgba(0, 0, 0, 0.95);
        transform: scale(1.02);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
      }

      .contact-item:last-child {
        grid-column: 1;
      }

      .flag-icon {
        width: 14px;
        height: 10px;
        margin-right: var(--spacing-xs);
      }

      .footer {
        position: fixed;
        right: var(--spacing-md);
        left: auto;
        bottom: calc(var(--spacing-sm) + env(safe-area-inset-bottom, 0px));
        font-size: 11px;
        padding: var(--spacing-xs) var(--spacing-sm);
      }
    }

    @media (max-width: 480px) {
      .main-title {
        font-size: var(--font-size-2xl);
      }

      .search-input-container {
        padding: var(--spacing-md);
      }

      .contact-item {
        padding: var(--spacing-sm);
        min-height: 32px;
        font-size: 10px;
        background: rgba(0, 0, 0, 0.75);
        border: 1px solid rgba(255, 255, 255, 0.3);
      }
    }

    /* High contrast mode support */
    @media (prefers-contrast: high) {
      :root {
        --bg-glass: rgba(0, 0, 0, 0.9);
        --bg-card: rgba(0, 0, 0, 0.95);
        --bg-transparent: rgba(0, 0, 0, 0.3);
      }
    }

    /* Reduced motion support */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Focus styles for keyboard navigation */
    *:focus {
      outline: 2px solid var(--accent-blue);
      outline-offset: 2px;
    }

    /* Loading state */
    .loading-overlay {
      position: fixed;
      inset: 0;
      background: var(--bg-primary);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 1;
      transition: opacity 0.3s ease-out;
    }

    .loading-overlay.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-top: 3px solid var(--accent-blue);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>

<body>
  <!-- Skip link for screen readers -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Loading overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-spinner" aria-label="Loading"></div>
  </div>

  <!-- Background system -->
  <div class="background-container">
    <div class="background-image" id="backgroundImage" role="img" aria-label="Scenic landscape background"></div>
  </div>
  <div class="background-overlay"></div>

  <!-- Physics Moon Ball for Mobile -->
  <div class="physics-moon" id="physicsMoon"></div>

  <div class="main-container">
    <!-- Statistics section -->
    <header class="stats-section" role="banner">
      <div class="stat-card">
        <div class="stat-number visitors" id="visitorsCount" aria-label="Total visitors">0</div>
        <div class="stat-label">Visitors</div>
      </div>

      <div class="stat-card">
        <div class="stat-number date" id="currentDate" aria-label="Today's date">--</div>
        <div class="stat-label">Today's Date</div>
      </div>

      <div class="stat-card">
        <div class="stat-number visits" id="userVisits" aria-label="Your visits">0</div>
        <div class="stat-label">Your Visits</div>
      </div>
    </header>

    <!-- Main content -->
    <main class="main-content" id="main-content">
      <p class="subtitle">
        Do you need software or an app to develop your business?
      </p>

      <h1 class="main-title">Welcome to QRBrand Ltd</h1>

      <!-- Search section -->
      <section class="search-container" role="search" aria-label="Web search">
        <form class="search-form" id="searchForm" role="search">
          <div class="search-input-container">
            <input 
              type="search" 
              class="search-input" 
              id="searchInput" 
              placeholder="Search the web with Bing" 
              aria-label="Search query"
              autocomplete="off"
            >
            <button 
              type="submit" 
              class="search-button" 
              id="searchButton" 
              aria-label="Search"
            >
              üîç
            </button>
          </div>

          <div class="suggestions-container" id="suggestionsContainer" role="listbox" aria-label="Search suggestions">
            <!-- Suggestions will be populated dynamically -->
          </div>
        </form>
      </section>

      <!-- Contact information -->
      <section class="contact-grid" aria-label="Contact information">
        <div class="contact-item">
          <img src="https://flagcdn.com/w20/qa.png" alt="Qatar flag" class="flag-icon" loading="lazy">
          <span>Qatar: <a href="tel:+97455257048" style="color: inherit; text-decoration: none;">+974 5525 7048</a></span>
        </div>

        <div class="contact-item">
          <img src="https://flagcdn.com/w20/lb.png" alt="Lebanon flag" class="flag-icon" loading="lazy">
          <span>Beirut: <a href="tel:+9613338603" style="color: inherit; text-decoration: none;">+961 333 8603</a></span>
        </div>

        <div class="contact-item">
          <img src="https://flagcdn.com/w20/fr.png" alt="France flag" class="flag-icon" loading="lazy">
          <span>France: <a href="tel:+33761522776" style="color: inherit; text-decoration: none;">+33 761 522 776</a></span>
        </div>

        <div class="contact-item">
          <img src="https://flagcdn.com/w20/iq.png" alt="Iraq flag" class="flag-icon" loading="lazy">
          <span>Iraq: <a href="tel:+9647800530333" style="color: inherit; text-decoration: none;">+964 780 053 0333</a></span>
        </div>

        <div class="contact-item">
          <span>Email: <a href="mailto:info@qrbrand.net" style="color: inherit; text-decoration: none;">info@qrbrand.net</a></span>
        </div>
      </section>

      <!-- Company address -->
      <address class="company-address">
        Our company address and P.O. Box in the UK: 71-75 Shelton Street, Covent Garden, London, United Kingdom, WC2H 9JQ
      </address>
    </main>
  </div>

  <!-- Footer -->
  <footer class="footer" id="photoCredit">Photo from Unsplash</footer>

  <script>
    // Performance monitoring
    const performance = {
      start: Date.now(),
      marks: {},
      mark(name) {
        this.marks[name] = Date.now() - this.start;
      },
      measure(name, startMark, endMark) {
        const start = this.marks[startMark] || 0;
        const end = this.marks[endMark] || Date.now() - this.start;
        console.log(`${name}: ${end - start}ms`);
      }
    };

    // Enhanced gradient backgrounds - no external images needed
    const fallbackGradients = [
      'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
      'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)', 
      'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
      'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
      'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
      'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)',
      'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)',
      'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)',
      'linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)',
      'linear-gradient(135deg, #d299c2 0%, #fef9d7 100%)',
      'linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%)',
      'linear-gradient(135deg, #fdbb2d 0%, #22c1c3 100%)',
      'linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)',
      'linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)',
      'linear-gradient(135deg, #fad0c4 0%, #ffd1ff 100%)',
      'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)'
    ];

    // Optimized background image loading with enhanced performance
    class BackgroundManager {
      constructor() {
        this.currentImageIndex = 0;
        this.loadedImages = new Map();
        this.isLoading = false;
        this.backgroundElement = document.getElementById('backgroundImage');
        this.preloadQueue = [];
        this.init();
      }

      init() {
        performance.mark('backgroundInit');
        this.loadRandomBackground();
        
        // Preload next few images for smooth transitions
        setTimeout(() => this.preloadImages(), 500);
      }

      async loadRandomBackground() {
        if (this.isLoading) return;
        this.isLoading = true;

        // Skip external images entirely and use gradients directly
        console.log('Using beautiful gradient background');
        this.setFallbackBackground();
        performance.mark('backgroundLoaded');
        this.isLoading = false;
      }

      async getOptimizedImageUrl(imageId) {
        // Not needed - using gradients only
        return null;
      }

      loadImage(url) {
        return new Promise((resolve, reject) => {
          if (this.loadedImages.has(url)) {
            resolve(this.loadedImages.get(url));
            return;
          }

          const img = new Image();
          img.crossOrigin = 'anonymous';
          
          const timeout = setTimeout(() => {
            img.onload = null;
            img.onerror = null;
            reject(new Error('Image load timeout'));
          }, 5000); // Reduced timeout

          img.onload = () => {
            clearTimeout(timeout);
            this.loadedImages.set(url, img);
            resolve(img);
          };

          img.onerror = () => {
            clearTimeout(timeout);
            reject(new Error('Image load failed'));
          };

          img.src = url;
        });
      }

      setBackground(url) {
        this.backgroundElement.style.backgroundImage = `url('${url}')`;
        this.backgroundElement.classList.add('loaded');
      }

      setFallbackBackground() {
        const randomGradient = fallbackGradients[Math.floor(Math.random() * fallbackGradients.length)];
        this.backgroundElement.style.background = randomGradient;
        this.backgroundElement.classList.add('loaded');
      }

      async preloadImages() {
        // No longer needed since we're using gradients only
        console.log('Preloading disabled - using gradients only');
      }
    }

    // Mobile Touch Statistics Manager - Enhanced for contact interactions
    class MobileTouchManager {
      constructor() {
        this.isMobile = window.innerWidth <= 768;
        this.init();
      }

      init() {
        if (this.isMobile) {
          this.setupMobileTouchInteractions();
        }
      }

      setupMobileTouchInteractions() {
        let touchTimer = null;
        
        // Enhanced touch interactions for contact elements
        document.addEventListener('touchstart', (e) => {
          clearTimeout(touchTimer);
          this.showContactElements();
        });

        document.addEventListener('touchend', () => {
          // Keep elements visible for 3 seconds after touch ends
          touchTimer = setTimeout(() => {
            this.hideContactElements();
          }, 3000);
        });

        // Handle window resize
        window.addEventListener('resize', () => {
          this.isMobile = window.innerWidth <= 768;
        });
      }

      showContactElements() {
        const contactGrid = document.querySelector('.contact-grid');
        const companyAddress = document.querySelector('.company-address');
        
        if (contactGrid) {
          contactGrid.classList.add('visible');
        }
        if (companyAddress) {
          companyAddress.classList.add('visible');
        }
      }

      hideContactElements() {
        const contactGrid = document.querySelector('.contact-grid');
        const companyAddress = document.querySelector('.company-address');
        
        if (contactGrid) {
          contactGrid.classList.remove('visible');
        }
        if (companyAddress) {
          companyAddress.classList.remove('visible');
        }
      }
    }

    // Advanced Physics Moon Ball with Haptic Feedback
    class PhysicsMoon {
      constructor() {
        this.moon = document.getElementById('physicsMoon');
        this.isMobile = window.innerWidth <= 768;
        
        // Enhanced physics properties
        this.x = window.innerWidth / 2;
        this.y = window.innerHeight / 2;
        this.vx = 3 + Math.random() * 2;
        this.vy = 3 + Math.random() * 2;
        this.gravity = 0.6;
        this.bounce = 0.75;
        this.friction = 0.995;
        this.size = 50;
        this.mass = 1;
        
        // Motion and haptic properties
        this.lastCollisionTime = 0;
        this.collisionCooldown = 150;
        this.motionSensitivity = 0.15;
        this.orientationSensitivity = 0.08;
        this.lastOrientation = { beta: 0, gamma: 0 };
        this.smoothingFactor = 0.7;
        
        // Performance optimization
        this.isAnimating = false;
        this.animationId = null;
        this.lastFrameTime = 0;
        this.targetFPS = 60;
        this.frameInterval = 1000 / this.targetFPS;
        
        if (this.isMobile) {
          this.init();
        }
      }

      init() {
        this.requestMotionPermissions();
        this.setupDeviceMotion();
        this.setupTouchInteractions();
        this.startAnimation();
        this.positionMoon();
      }

      async requestMotionPermissions() {
        // Request permissions for iOS 13+
        if (typeof DeviceMotionEvent.requestPermission === 'function') {
          try {
            const permission = await DeviceMotionEvent.requestPermission();
            if (permission !== 'granted') {
              console.log('Motion permission denied');
            }
          } catch (error) {
            console.log('Motion permission error:', error);
          }
        }

        if (typeof DeviceOrientationEvent.requestPermission === 'function') {
          try {
            const permission = await DeviceOrientationEvent.requestPermission();
            if (permission !== 'granted') {
              console.log('Orientation permission denied');
            }
          } catch (error) {
            console.log('Orientation permission error:', error);
          }
        }
      }

      setupDeviceMotion() {
        // Enhanced device motion with smoothing
        if (window.DeviceMotionEvent) {
          window.addEventListener('devicemotion', (e) => {
            const acc = e.accelerationIncludingGravity;
            if (acc && acc.x !== null && acc.y !== null) {
              // Apply smoothing and sensitivity
              const deltaX = (acc.x || 0) * this.motionSensitivity;
              const deltaY = -(acc.y || 0) * this.motionSensitivity;
              
              this.vx += deltaX * this.smoothingFactor;
              this.vy += deltaY * this.smoothingFactor;
              
              // Limit maximum velocity
              this.vx = Math.max(-15, Math.min(15, this.vx));
              this.vy = Math.max(-15, Math.min(15, this.vy));
            }
          }, { passive: true });
        }

        // Enhanced device orientation with smooth transitions
        if (window.DeviceOrientationEvent) {
          window.addEventListener('deviceorientation', (e) => {
            const beta = e.beta || 0;  // front-to-back tilt (-180 to 180)
            const gamma = e.gamma || 0; // left-to-right tilt (-90 to 90)
            
            // Smooth orientation changes
            const smoothBeta = this.lastOrientation.beta * (1 - this.smoothingFactor) + beta * this.smoothingFactor;
            const smoothGamma = this.lastOrientation.gamma * (1 - this.smoothingFactor) + gamma * this.smoothingFactor;
            
            // Apply orientation forces
            this.vx += smoothGamma * this.orientationSensitivity;
            this.vy += smoothBeta * this.orientationSensitivity;
            
            this.lastOrientation = { beta: smoothBeta, gamma: smoothGamma };
          }, { passive: true });
        }
      }

      setupTouchInteractions() {
        // Add touch interactions for manual control
        document.addEventListener('touchstart', (e) => {
          const touch = e.touches[0];
          const moonRect = this.moon.getBoundingClientRect();
          const distance = Math.sqrt(
            Math.pow(touch.clientX - (moonRect.left + moonRect.width / 2), 2) +
            Math.pow(touch.clientY - (moonRect.top + moonRect.height / 2), 2)
          );
          
          if (distance < 50) {
            e.preventDefault();
            this.handleTouch(touch);
          }
        }, { passive: false });

        document.addEventListener('touchmove', (e) => {
          const touch = e.touches[0];
          const moonRect = this.moon.getBoundingClientRect();
          const distance = Math.sqrt(
            Math.pow(touch.clientX - (moonRect.left + moonRect.width / 2), 2) +
            Math.pow(touch.clientY - (moonRect.top + moonRect.height / 2), 2)
          );
          
          if (distance < 50) {
            e.preventDefault();
            this.handleTouch(touch);
          }
        }, { passive: false });
      }

      handleTouch(touch) {
        const rect = this.moon.getBoundingClientRect();
        const centerX = rect.left + rect.width / 2;
        const centerY = rect.top + rect.height / 2;
        
        const deltaX = touch.clientX - centerX;
        const deltaY = touch.clientY - centerY;
        
        // Apply touch force
        this.vx += deltaX * 0.02;
        this.vy += deltaY * 0.02;
        
        this.triggerHapticFeedback('light');
      }

      startAnimation() {
        if (this.isAnimating) return;
        this.isAnimating = true;
        this.animate();
      }

      animate(currentTime = 0) {
        if (!this.isMobile || !this.isAnimating) return;

        // Throttle to target FPS
        if (currentTime - this.lastFrameTime < this.frameInterval) {
          this.animationId = requestAnimationFrame((time) => this.animate(time));
          return;
        }
        this.lastFrameTime = currentTime;

        const bounds = {
          width: window.innerWidth,
          height: window.innerHeight
        };

        // Apply enhanced physics
        this.vy += this.gravity;
        this.vx *= this.friction;
        this.vy *= this.friction;

        // Update position with sub-pixel precision
        this.x += this.vx;
        this.y += this.vy;

        // Advanced collision detection with haptic feedback
        let hasCollision = false;

        if (this.x <= 0 || this.x >= bounds.width - this.size) {
          this.vx *= -this.bounce;
          this.x = this.x <= 0 ? 0 : bounds.width - this.size;
          hasCollision = true;
        }

        if (this.y <= 0 || this.y >= bounds.height - this.size) {
          this.vy *= -this.bounce;
          this.y = this.y <= 0 ? 0 : bounds.height - this.size;
          hasCollision = true;
        }

        // Handle collisions with enhanced feedback
        if (hasCollision && Date.now() - this.lastCollisionTime > this.collisionCooldown) {
          this.handleCollision();
          this.lastCollisionTime = Date.now();
        }

        this.positionMoon();
        this.animationId = requestAnimationFrame((time) => this.animate(time));
      }

      handleCollision() {
        // Visual feedback
        this.moon.classList.add('bouncing');
        setTimeout(() => {
          this.moon.classList.remove('bouncing');
        }, 120);

        // Haptic feedback with intensity based on velocity
        const velocity = Math.sqrt(this.vx * this.vx + this.vy * this.vy);
        if (velocity > 8) {
          this.triggerHapticFeedback('heavy');
        } else if (velocity > 4) {
          this.triggerHapticFeedback('medium');
        } else {
          this.triggerHapticFeedback('light');
        }

        // Add slight random variation to prevent predictable movement
        this.vx += (Math.random() - 0.5) * 0.5;
        this.vy += (Math.random() - 0.5) * 0.5;
      }

      positionMoon() {
        // Use transform3d for hardware acceleration
        this.moon.style.transform = `translate3d(${this.x}px, ${this.y}px, 0)`;
      }

      triggerHapticFeedback(intensity = 'medium') {
        if (!navigator.vibrate) return;

        const patterns = {
          light: [10],
          medium: [20],
          heavy: [50],
          double: [20, 100, 30]
        };

        try {
          navigator.vibrate(patterns[intensity] || patterns.medium);
        } catch (error) {
          // Haptic feedback not supported
        }
      }

      destroy() {
        this.isAnimating = false;
        if (this.animationId) {
          cancelAnimationFrame(this.animationId);
        }
      }
    }

    class StatisticsManager {
      constructor() {
        this.init();
      }

      init() {
        this.updateVisitorCount();
        this.updateUserVisits();
        this.updateCurrentDate();
      }

      updateVisitorCount() {
        let globalVisitors = this.getStoredValue('global_visitors_base');
        if (!globalVisitors) {
          globalVisitors = 50000 + Math.floor(Math.random() * 5000);
        }
        globalVisitors = Number(globalVisitors) + 1;
        
        this.setStoredValue('global_visitors_base', globalVisitors);
        this.animateNumber('visitorsCount', globalVisitors);
      }

      updateUserVisits() {
        let userVisits = Number(this.getStoredValue('user_visits') || 0) + 1;
        this.setStoredValue('user_visits', userVisits);
        this.animateNumber('userVisits', userVisits);
      }

      updateCurrentDate() {
        const now = new Date();
        const formattedDate = now.toLocaleDateString('en-GB', {
          day: '2-digit',
          month: '2-digit',
          year: 'numeric'
        });
        
        document.getElementById('currentDate').textContent = formattedDate;
      }

      animateNumber(elementId, targetValue) {
        const element = document.getElementById(elementId);
        const duration = 1200;
        const startTime = Date.now();
        const startValue = 0;
        
        const animate = () => {
          const elapsed = Date.now() - startTime;
          const progress = Math.min(elapsed / duration, 1);
          
          // Easing function for smooth animation
          const easeOut = 1 - Math.pow(1 - progress, 3);
          const currentValue = Math.floor(startValue + (targetValue - startValue) * easeOut);
          
          element.textContent = this.formatNumber(currentValue);
          
          if (progress < 1) {
            requestAnimationFrame(animate);
          }
        };
        
        requestAnimationFrame(animate);
      }

      formatNumber(num) {
        return num.toLocaleString();
      }

      getStoredValue(key) {
        try {
          return localStorage.getItem(key);
        } catch (e) {
          return null;
        }
      }

      setStoredValue(key, value) {
        try {
          localStorage.setItem(key, value.toString());
        } catch (e) {
          // Handle localStorage quota exceeded or disabled
        }
      }
    }

    // Search functionality
    class SearchManager {
      constructor() {
        this.suggestions = [
          { 
            text: "Do you want to contact the company?", 
            action: () => this.showContactInfo()
          },
          { 
            text: "Do you want to contact our branches worldwide?", 
            action: () => this.showBranchInfo()
          },
          { 
            text: "Do you want to send an email?", 
            action: () => this.openEmail()
          },
          { 
            text: "Do you want a website?", 
            action: () => this.requestWebsite()
          },
          { 
            text: "Do you want an app?", 
            action: () => this.requestApp()
          },
          { 
            text: "Do you want a system?", 
            action: () => this.requestSystem()
          }
        ];
        
        this.init();
      }

      init() {
        const searchInput = document.getElementById('searchInput');
        const searchForm = document.getElementById('searchForm');
        const suggestionsContainer = document.getElementById('suggestionsContainer');

        // Input event for suggestions
        searchInput.addEventListener('input', (e) => {
          this.handleInput(e.target.value);
        });

        // Form submission for web search
        searchForm.addEventListener('submit', (e) => {
          e.preventDefault();
          this.performWebSearch(searchInput.value.trim());
        });

        // Close suggestions when clicking outside
        document.addEventListener('click', (e) => {
          if (!searchForm.contains(e.target)) {
            this.hideSuggestions();
          }
        });

        // Keyboard navigation for suggestions
        searchInput.addEventListener('keydown', (e) => {
          this.handleKeyNavigation(e);
        });
      }

      handleInput(value) {
        const query = value.trim().toLowerCase();
        const suggestionsContainer = document.getElementById('suggestionsContainer');
        
        if (!query) {
          this.hideSuggestions();
          return;
        }

        const matchingSuggestions = this.suggestions.filter(suggestion =>
          suggestion.text.toLowerCase().includes(query)
        );

        if (matchingSuggestions.length > 0) {
          this.showSuggestions(matchingSuggestions);
        } else {
          this.hideSuggestions();
        }
      }

      showSuggestions(suggestions) {
        const container = document.getElementById('suggestionsContainer');
        
        container.innerHTML = suggestions.map((suggestion, index) => 
          `<div class="suggestion-item" data-index="${index}" role="option">${suggestion.text}</div>`
        ).join('');

        // Add click handlers
        container.querySelectorAll('.suggestion-item').forEach((item, index) => {
          item.addEventListener('click', () => {
            suggestions[index].action();
            this.hideSuggestions();
          });
        });

        container.classList.add('visible');
      }

      hideSuggestions() {
        const container = document.getElementById('suggestionsContainer');
        container.classList.remove('visible');
      }

      handleKeyNavigation(e) {
        const suggestions = document.querySelectorAll('.suggestion-item');
        const activeSuggestion = document.querySelector('.suggestion-item:focus');
        
        if (e.key === 'ArrowDown') {
          e.preventDefault();
          if (suggestions.length > 0) {
            const nextIndex = activeSuggestion ? 
              Math.min(Array.from(suggestions).indexOf(activeSuggestion) + 1, suggestions.length - 1) : 0;
            suggestions[nextIndex].focus();
          }
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          if (suggestions.length > 0) {
            const prevIndex = activeSuggestion ? 
              Math.max(Array.from(suggestions).indexOf(activeSuggestion) - 1, 0) : suggestions.length - 1;
            suggestions[prevIndex].focus();
          }
        } else if (e.key === 'Escape') {
          this.hideSuggestions();
          document.getElementById('searchInput').focus();
        }
      }

      performWebSearch(query) {
        if (!query) return;
        
        const searchUrl = `https://www.bing.com/search?q=${encodeURIComponent(query)}`;
        window.open(searchUrl, '_blank', 'noopener,noreferrer');
      }

      // Suggestion actions
      showContactInfo() {
        this.showModal('Contact Information', `
          <p>üìß Email: <a href="mailto:info@qrbrand.net">info@qrbrand.net</a></p>
          <p>üè¢ Address: 71-75 Shelton Street, Covent Garden, London, UK, WC2H 9JQ</p>
        `);
      }

      showBranchInfo() {
        this.showModal('Our Worldwide Branches', `
          <p>üá∂üá¶ Qatar: +974 5525 7048</p>
          <p>üá±üáß Beirut: +961 333 8603</p>
          <p>üá´üá∑ France: +33 761 522 776</p>
          <p>üáÆüá∂ Iraq: +964 780 053 0333</p>
        `);
      }

      openEmail() {
        window.location.href = 'mailto:info@qrbrand.net?subject=Business Inquiry';
      }

      requestWebsite() {
        window.location.href = 'mailto:info@qrbrand.net?subject=Website Development Request&body=Hello, I would like to request a website for my business. Please contact me to discuss the details.';
      }

      requestApp() {
        window.location.href = 'mailto:info@qrbrand.net?subject=App Development Request&body=Hello, I would like to request an app for my business. Please contact me to discuss the details.';
      }

      requestSystem() {
        window.location.href = 'mailto:info@qrbrand.net?subject=System Development Request&body=Hello, I would like to request a custom system for my business. Please contact me to discuss the details.';
      }

      showModal(title, content) {
        // Simple modal implementation
        const modal = document.createElement('div');
        modal.style.cssText = `
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.8);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        `;
        
        modal.innerHTML = `
          <div style="
            background: white;
            padding: 30px;
            border-radius: 12px;
            max-width: 400px;
            width: 100%;
            color: #333;
          ">
            <h3 style="margin: 0 0 15px 0; color: #333;">${title}</h3>
            <div style="line-height: 1.6;">${content}</div>
            <button onclick="this.closest('div').parentElement.remove()" style="
              margin-top: 20px;
              padding: 10px 20px;
              background: var(--accent-blue);
              color: white;
              border: none;
              border-radius: 6px;
              cursor: pointer;
            ">Close</button>
          </div>
        `;
        
        // Close on backdrop click
        modal.addEventListener('click', (e) => {
          if (e.target === modal) {
            modal.remove();
          }
        });
        
        document.body.appendChild(modal);
        
        // Auto-remove after 10 seconds
        setTimeout(() => {
          if (modal.parentElement) {
            modal.remove();
          }
        }, 10000);
      }
    }

    // Application initialization
    class App {
      constructor() {
        this.backgroundManager = null;
        this.statisticsManager = null;
        this.searchManager = null;
        this.init();
      }

      async init() {
        performance.mark('appInit');
        
        // Wait for DOM to be ready
        if (document.readyState === 'loading') {
          await new Promise(resolve => {
            document.addEventListener('DOMContentLoaded', resolve);
          });
        }

        try {
          // Initialize managers
          this.backgroundManager = new BackgroundManager();
          this.statisticsManager = new StatisticsManager();
          this.searchManager = new SearchManager();
          this.mobileTouchManager = new MobileTouchManager();
          this.physicsMoon = new PhysicsMoon();

          // Hide loading overlay
          setTimeout(() => {
            const loadingOverlay = document.getElementById('loadingOverlay');
            if (loadingOverlay) {
              loadingOverlay.classList.add('hidden');
              setTimeout(() => loadingOverlay.remove(), 300);
            }
          }, 600);

          performance.mark('appReady');
          console.log('QRBrand application initialized successfully');
          
        } catch (error) {
          console.error('Failed to initialize application:', error);
          this.handleInitError();
        }
      }

      handleInitError() {
        const loadingOverlay = document.getElementById('loadingOverlay');
        if (loadingOverlay) {
          loadingOverlay.innerHTML = `
            <div style="text-align: center; color: white;">
              <p>Loading failed. Please refresh the page.</p>
              <button onclick="location.reload()" style="
                margin-top: 10px;
                padding: 10px 20px;
                background: var(--accent-blue);
                color: white;
                border: none;
                border-radius: 6px;
                cursor: pointer;
              ">Refresh</button>
            </div>
          `;
        }
      }
    }

    // Error handling
    window.addEventListener('error', (e) => {
      console.error('Runtime error:', e.error);
    });

    window.addEventListener('unhandledrejection', (e) => {
      console.error('Unhandled promise rejection:', e.reason);
    });

    // Initialize application
    const app = new App();
  </script>
</body>
</html>